const loading=document.querySelector(".loader-block"),downloadBlock=document.querySelector(".download-block");document.addEventListener("DOMContentLoaded",(()=>{setTimeout((function(){loading.style.display="none",downloadBlock.style.display="flex";let e=1;const t=document.querySelector(".progress"),o=document.querySelector(".download__circle--arrow"),n=document.querySelector(".download__circle--percent"),l=2*Math.PI*28,d=setInterval((()=>{e++;const r=l-l/100*e;t.style.strokeDashoffset=r,n.textContent=`${e}%`,100===e&&(clearInterval(d),t.style.strokeDasharray=176,setTimeout((function(){n.style.display="none",o.style.display="flex"}),400))}),10)}),1200)}));const element=document.getElementById("phone"),maskOptions={mask:"+{47} 000 00 000"},mask=IMask(element,maskOptions),phoneInput=document.getElementById("phone"),continueButton=document.querySelector(".download__btn"),errorBlock=document.createElement("div");errorBlock.className="download__input-error";const smsInput=document.getElementById("sms"),smsButton=document.querySelector(".download__btn-sms"),lineSecond=document.querySelector(".download__status--line-second");function validatePhoneNumber(e){return(e=e.replace(/[^+\d]/g,"")).startsWith("+47")&&e.length>=10}smsInput.addEventListener("input",(()=>{const e=smsInput.value.trim(),t=4===e.length&&/^\d+$/.test(e);smsButton.disabled=!t})),phoneInput.addEventListener("input",(()=>{validatePhoneNumber(phoneInput.value.trim())?(document.querySelector(".download__input-error")&&document.querySelector(".download__input-error").remove(),continueButton.classList.add("download__input-ready"),continueButton.disabled=!1):(document.querySelector(".download__input-error")||(errorBlock.textContent="Invalid phone number.",document.querySelector(".download__input-block").appendChild(errorBlock)),continueButton.classList.remove("download__input-ready"),continueButton.disabled=!0)}));const inputBlock=document.querySelector(".download__input-block"),verifyBlock=document.querySelector(".download__verify"),smsBlock=document.querySelector(".download__sms-block"),stepText=document.querySelector(".download__status--step");continueButton.addEventListener("click",(()=>{inputBlock.style.display="none",verifyBlock.style.display="flex",setTimeout((function(){verifyBlock.style.display="none",smsBlock.style.display="flex",lineSecond.classList.add("active-line"),stepText.innerHTML="STEP 2/2"}),3e3)}));